
# XML持久化处理

* 通用脚本：即时/在整个脚本的范围内，将XML内容赋值给变量（文件路径，根节点，二级节点，三级节点/属性，转换方式）
* 通用脚本：符合模版要求的markdown文档转XML文档的脚本，需要时生成
* 通用脚本：实现XML文档转数据存储类的脚本，需要两个脚本：XMLAnalysis.cs和XMLData.cs，其他非通用的解析脚本和数据存储脚本都分别继承自这两个脚本。（XMLAnalysis.cs使用www服务，遍历元素，将有用的信息存储到XMLData.cs的数组中）


* XMl文档：技能页面中的技能名称和技能描述
* XML文档：商城页面中的的道具名称和提示信息
* XML文档：任务页面中的任务名称和任务描述


* 具体的XML解析脚本和XML数据存储类



# 窗口

* 按住窗口上边缘，可在一定程度上拖拽窗口



# 背包系统

* 物品从装备栏中拖拽下后会回到背包栏中，并且自动选定合适的位置
* 物品可以替换装备，这时能够正确地处理数据
* 物品可从一个背包栏自由拖拽到另一个背包栏
* 物品可在背包栏中点击装备
* 物品可在装备栏中点击取消装备
* 非装备类的道具可以在背包栏中叠加，并且可以正确处理后台逻辑


* 可以叠加的道具也可以通过右键菜单选项来自由拆分。（难）

## 背包系统，待实现的功能

注意：具体的道具应该挂上通用的以及具体的控制层、模型层、视图层脚本

控制层，角色属性类：
	定义添加各种物品的通用方法，根据参数添加不同的物品
	具体物品的属性数值应该存储在XML文件中，或者暂时另外写一个脚本
	定义各种物品的属性控制方法，引用模型层的对应方法

控制层，物品装备功能实现类：
	通过参数控制实现重载

+++控制层，物品使用功能实现类
	通过参数控制实现重载

模型层，物品数据类：	
	定义各种物品的通用属性
	如果不考虑继承，可以使用结构体
	不能采用单例模式
	需要挂载到具体的物品游戏对象上
					
模型层，物品数据代理类：	
	定义各种物品的通用属性的控制方法

+++视图层，物品背包操作类：	
	定义各种物品的拖拽、点击等通用显示方法
		定义一个可以拖拽道具的方法（拖拽装备，拖拽调整位置，拖拽交换位置）
		定义一个可以拽回道具的方法（回到背包栏）
		定义一个可以双击装备道具来装备的方法
		定义一个可以双击已装备道具接触装备的方法
		定义一个可以整理背包的方法（不要求排序）
	定义一个实现装备、使用等功能的虚方法，通过调用控制层的有用的方法，在子类中实现
	应该调用一个封装好的装备、使用方法，使用（同一类型的）道具名作为参数
	需要考虑继承

+++视图层，物品背包显示类：
	（通过购买、拾取等途径调用）创建并显示物品
	在背包栏中显示到合适的位置
	通过点击道具，使用事件来同步显示物品名字、数量等



# 遗留问题

* 如何跨UI摄像机的深度，实现按钮点击？




# 敌人

* 进一步实现状态判定：使用碰撞体以及动画事件来控制
* 实现敌人“硬直”功能，硬直状态下的敌人不能移动，并且暂停思考。
* 实现敌人“韧性”顺序，韧性在受到攻击时会减少，最少为0，为0后敌人会出现硬直，然后又恢复满。韧性在未受攻击时会慢慢恢复。
* 实现敌人“韧性判定”功能，带有韧性的敌人，只有在受到一定削韧值后，才会播放受伤动画，进入“硬直”状态。
* 实现弓箭手的“保持距离”功能，当相隔过近时，相对于攻击，弓箭手会首先选择拉开距离。



# 主角

# 主角的升级规则脚本（模型层，在控制层调用）（尽可能地降低耦合性）